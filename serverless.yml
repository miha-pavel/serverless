org: pahamihali4
app: post-test-app
service: post-test


plugins:
  - serverless-aws-documentation


provider:
  name: aws
  runtime: python3.8
  region: eu-central-1
  apiKeys:
    - API-Key-Get-duration


functions:
  post_test:
    handler: handler.post_test
    events:
      -
        http:
          path: post_test
          method: post
          private: true


package:
  exclude:
    - node_modules/**
    - .idea/**
    - .vscode/**
    - env/**
    - README.md
    - package.json
    - package-lock.json
    - requirements.txt


custom:
  documentation:
    api:
      info:
        version: "1"
        title: "POST request load url duration"
        summary: "Get URL load duration"
        description: "Get URL load duration"
        contact:
          name: "Pavlo Mykhalichenko"
          email: "pahamihali4@gmail.com"
    tags:
      - "post-test-dev"
      - "arn:aws:cloudformation:eu-central-1:102080805428:stack/post-test-dev/e95218a0-db11-11ea-93a0-06a85d409ac4"
      - "PostUnderscoretestLambdaFunction"
      - "dev"
    authorizers:
      -
        name: "MyCustomAuthorizer"
        description: "Authorization via x-api-key"
    requestBody:
      description: "The list of urls"
    requestHeaders:
      -
        name: "x-header"
        description: "Header description"
      -
        name: "Authorization"
        description: "Auth API key"
    methodResponses:
      -
        statusCode: "200"
        responseBody:
          description: "The json which contains URLs as keys and duration as value"
